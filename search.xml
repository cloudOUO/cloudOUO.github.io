<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>推箱子</title>
      <link href="/posts/2.html"/>
      <url>/posts/2.html</url>
      
        <content type="html"><![CDATA[<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h1 id="推箱子"><a href="#推箱子" class="headerlink" title="推箱子"></a>推箱子</h1><pre class="line-numbers language-none"><code class="language-none">// PushBox.cpp : 定义控制台应用程序的入口点。//#include "stdafx.h"#include &lt;iostream&gt;#include &lt;windows.h&gt;using namespace std;#define KEY_DOWN(vk_code) ((GetAsyncKeyState(vk_code)&amp;0x8000)?1:0)//#define VK_A           0x41void gotoxy(short x, short y) {COORD pos = { x, y };HANDLE hOut = GetStdHandle(STD_OUTPUT_HANDLE);SetConsoleCursorPosition(hOut, pos);}int arrMap[15][15] = {{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }};//枚举//枚举命名：E_哪个模块的内容_代表的含义//常量-&gt;用全部大写来命名//如果枚举常量没有进行赋值，默认从0开始赋值，依次递增//如果枚举常量有赋值，从赋值的数开始，依次递增enum{E_MENU_START,E_MENU_SET,E_MENU_EXIT};enum{E_GAME_MENU,E_GAME_MAP,E_GAME_PASS};//结构体：类似于类//结构体用于数据的捆绑//结构体是用户自定义类型struct SBlock{int nRow;int nCol;int nRowBk;int nColBk;};//把之前的每个步骤都记录住//1.玩家的移动//2.箱子移动struct SData {int nPlayerRow;int nPlayerCol;SBlock arrBoxData[3];};int _tmain(int argc, _TCHAR* argv[]){//游戏的本质：是一个大的死循环//定义一个int型的变量int nMenuState = E_MENU_START;//定义一个变量代表不同的游戏场景int nGameState = E_GAME_MENU;//对象SBlock player;//有行有列的地图//玩家在第几行第几列player.nRow = 5;player.nCol = 5;//定义两个变量，用于记录玩家的位置player.nRowBk = 0;player.nColBk = 0;//定义一个数组，用来存放三个箱子SBlock arrBox[3];//给三个箱子初始的行列arrBox[0].nRow = 5;arrBox[0].nCol = 6;arrBox[1].nRow = 7;arrBox[1].nCol = 8;arrBox[2].nRow = 9;arrBox[2].nCol = 9;//有一个数组用于保存三个坑的位置SBlock arrHole[3];arrHole[0].nRow = 4;arrHole[0].nCol = 6;arrHole[1].nRow = 6;arrHole[1].nCol = 8;arrHole[2].nRow = 8;arrHole[2].nCol = 9;//定义一个变量，用来记录玩家推的箱子的序号（索引）int nIndex = 0;//定义一个数组把所有的步骤都存储起来SData arrData[100];//还需要有一个变量记录当前走了多少步int nLength = 0; while (true){//system("pause");//系统清屏//system("cls");//菜单-&gt;游戏场景if (E_GAME_MENU == nGameState){//数据更新//一定要保证数据先行if (KEY_DOWN(VK_UP)){nMenuState--;if (nMenuState &lt; E_MENU_START){//此时箭头在游戏开始之上//设置成游戏退出即可nMenuState = E_MENU_EXIT;}}else if (KEY_DOWN(VK_DOWN)){nMenuState++;if (nMenuState &gt; E_MENU_EXIT){nMenuState = E_MENU_START;}}else if (KEY_DOWN(VK_RETURN)){if (E_MENU_START == nMenuState){nGameState = E_GAME_MAP;}else if (E_MENU_SET == nMenuState){}else if (E_MENU_EXIT == nMenuState){return 0;}}//画-&gt;渲染if (E_MENU_START == nMenuState){cout &lt;&lt; "■■■■■■■■■■■" &lt;&lt; endl;cout &lt;&lt; "■    游 戏 菜 单   ■" &lt;&lt; endl;cout &lt;&lt; "■  -&gt; 游戏开始     ■" &lt;&lt; endl;cout &lt;&lt; "■     游戏设置     ■" &lt;&lt; endl;cout &lt;&lt; "■     游戏退出     ■" &lt;&lt; endl;cout &lt;&lt; "■■■■■■■■■■■" &lt;&lt; endl;}else if (E_MENU_SET == nMenuState){cout &lt;&lt; "■■■■■■■■■■■" &lt;&lt; endl;cout &lt;&lt; "■    游 戏 菜 单   ■" &lt;&lt; endl;cout &lt;&lt; "■     游戏开始     ■" &lt;&lt; endl;cout &lt;&lt; "■  -&gt; 游戏设置     ■" &lt;&lt; endl;cout &lt;&lt; "■     游戏退出     ■" &lt;&lt; endl;cout &lt;&lt; "■■■■■■■■■■■" &lt;&lt; endl;}else if (E_MENU_EXIT == nMenuState){cout &lt;&lt; "■■■■■■■■■■■" &lt;&lt; endl;cout &lt;&lt; "■    游 戏 菜 单   ■" &lt;&lt; endl;cout &lt;&lt; "■     游戏开始     ■" &lt;&lt; endl;cout &lt;&lt; "■     游戏设置     ■" &lt;&lt; endl;cout &lt;&lt; "■  -&gt; 游戏退出     ■" &lt;&lt; endl;cout &lt;&lt; "■■■■■■■■■■■" &lt;&lt; endl;}}else if (E_GAME_MAP == nGameState){//游戏场景bool bESC = false;if (KEY_DOWN(VK_ESCAPE)){nGameState = E_GAME_MENU;bESC = true;}//玩家移动之前把坐标备份起来//赋值player.nRowBk = player.nRow;player.nColBk = player.nCol;//备份三个箱子的坐标for (int i = 0; i &lt; 3; i++){arrBox[i].nRowBk = arrBox[i].nRow;arrBox[i].nColBk = arrBox[i].nCol;}if (KEY_DOWN(VK_BACK)){//把之前记录住的数据返回回去即可player.nRow = arrData[nLength - 1].nPlayerRow;player.nCol = arrData[nLength - 1].nPlayerCol;for (int i = 0; i &lt; 3; i++){arrBox[i].nRow = arrData[nLength - 1].arrBoxData[i].nRow;arrBox[i].nCol = arrData[nLength - 1].arrBoxData[i].nCol;}nLength--;}if (KEY_DOWN(VK_UP)){//先把之前的箱子的位置，玩家的位置先记录住arrData[nLength].nPlayerRow = player.nRow;arrData[nLength].nPlayerCol = player.nCol;for (int i = 0; i &lt; 3; i++){arrData[nLength].arrBoxData[i].nRow = arrBox[i].nRow;arrData[nLength].arrBoxData[i].nCol = arrBox[i].nCol;}nLength++;player.nRow--;}else if (KEY_DOWN(VK_DOWN)){//先把之前的箱子的位置，玩家的位置先记录住arrData[nLength].nPlayerRow = player.nRow;arrData[nLength].nPlayerCol = player.nCol;for (int i = 0; i &lt; 3; i++){arrData[nLength].arrBoxData[i].nRow = arrBox[i].nRow;arrData[nLength].arrBoxData[i].nCol = arrBox[i].nCol;}nLength++;player.nRow++;}else if (KEY_DOWN(VK_LEFT)){//先把之前的箱子的位置，玩家的位置先记录住arrData[nLength].nPlayerRow = player.nRow;arrData[nLength].nPlayerCol = player.nCol;for (int i = 0; i &lt; 3; i++){arrData[nLength].arrBoxData[i].nRow = arrBox[i].nRow;arrData[nLength].arrBoxData[i].nCol = arrBox[i].nCol;}nLength++;player.nCol--;}else if (KEY_DOWN(VK_RIGHT)){//先把之前的箱子的位置，玩家的位置先记录住arrData[nLength].nPlayerRow = player.nRow;arrData[nLength].nPlayerCol = player.nCol;for (int i = 0; i &lt; 3; i++){arrData[nLength].arrBoxData[i].nRow = arrBox[i].nRow;arrData[nLength].arrBoxData[i].nCol = arrBox[i].nCol;}nLength++;player.nCol++;}//移动之后判断玩家是否推到箱子for (int i = 0; i &lt; 3; i++){if (player.nRow == arrBox[i].nRow &amp;&amp; player.nCol == arrBox[i].nCol){//玩家跟箱子重叠//向量arrBox[i].nRow += player.nRow - player.nRowBk;arrBox[i].nCol += player.nCol - player.nColBk;//此时第i个箱子就是我推的那个箱子nIndex = i;}}//箱子移动之后判断箱子是否撞墙if (1 == arrMap[arrBox[nIndex].nRow][arrBox[nIndex].nCol]){//推的箱子撞墙了arrBox[nIndex].nRow = arrBox[nIndex].nRowBk;arrBox[nIndex].nCol = arrBox[nIndex].nColBk;player.nRow = player.nRowBk;player.nCol = player.nColBk;}//箱子撞箱子：把另外两个箱子当做墙for (int i = 0; i &lt; 3; i++){if (nIndex != i &amp;&amp; arrBox[i].nRow == arrBox[nIndex].nRow &amp;&amp; arrBox[i].nCol == arrBox[nIndex].nCol){arrBox[nIndex].nRow = arrBox[nIndex].nRowBk;arrBox[nIndex].nCol = arrBox[nIndex].nColBk;player.nRow = player.nRowBk;player.nCol = player.nColBk;}}//有一个变量用于统计箱子入坑的数量int nCount = 0;//箱子入坑判断for (int i = 0; i &lt; 3; i++)//遍历所有箱子{for (int j = 0; j &lt; 3; j++)//遍历所有坑{if (arrBox[i].nRow == arrHole[j].nRow &amp;&amp; arrBox[i].nCol == arrHole[j].nCol){//某一个箱子推入到某一个坑里面nCount++;break;}}}if (nCount == 3){bESC = true;//游戏胜利了！nGameState = E_GAME_PASS;}//玩家移动之后，判断是否陷入到墙里面if (1 == arrMap[player.nRow][player.nCol]){player.nRow = player.nRowBk;player.nCol = player.nColBk;}for (int i = 0; i &lt; 15; i++)//遍历行{for (int j = 0; j &lt; 15; j++)//遍历列{bool bDrawBox = false;bool bDrawFinish = false;for (int n = 0; n &lt; 3; n++){if (i == arrBox[n].nRow &amp;&amp; j == arrBox[n].nCol){//当前位置存在某一个箱子//判断这一个箱子是不是在坑里面for (int m = 0; m &lt; 3; m++)//遍历三个坑{//判断箱子和某一个坑是否重叠if (arrBox[n].nRow == arrHole[m].nRow &amp;&amp; arrBox[n].nCol == arrHole[m].nCol){//当前这个箱子是被推到坑里面的bDrawFinish = true;break;}}bDrawBox = true;break;}}bool bDrawHole = false;for (int n = 0; n &lt; 3; n++){if (i == arrHole[n].nRow &amp;&amp; j == arrHole[n].nCol){bDrawHole = true;break;}}if (1 == arrMap[i][j]){cout &lt;&lt; "■";}else if (bDrawFinish){cout &lt;&lt; "进";}else if (bDrawBox){cout &lt;&lt; "箱";}else if (bDrawHole){cout &lt;&lt; "坑";}else if (i == player.nRow &amp;&amp; j == player.nCol){cout &lt;&lt; "玩";}else if (0 == arrMap[i][j]){cout &lt;&lt; "  ";}}cout &lt;&lt; endl;}if (bESC == true){system("cls");}}else if (E_GAME_PASS == nGameState){cout &lt;&lt; "游戏胜利" &lt;&lt; endl;}gotoxy(0, 0);//让系统运行变慢Sleep(80);}//1.整理推箱子（明天把完善之后的项目提交上来）//2.新建一个Snake的项目//3.按键之后蛇头朝着按键的方向移动return 0;}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于博客</title>
      <link href="/posts/1.html"/>
      <url>/posts/1.html</url>
      
        <content type="html"><![CDATA[<h1 id="博客初衷"><a href="#博客初衷" class="headerlink" title="博客初衷"></a>博客初衷</h1><p>博主主要是用来记录学习哒，把所学东西总结复刻在博客上，可以直观的看到学习路径，方便以后整理，本博客的初衷只为学习，仅为个人使用，不做其他用途。</p><h1 id="展望博客"><a href="#展望博客" class="headerlink" title="展望博客"></a>展望博客</h1><p>博主主要是对C++、游戏制作、虚幻引擎等进行学习，因此以后博主会发一些游戏制作等相关教程，希望能与大家一同进步！</p><h1 id="关于博主"><a href="#关于博主" class="headerlink" title="关于博主"></a>关于博主</h1><p>庭树，是我对心里之人的别称。把相思寄于互联网，在互联网中发芽，茁壮起来的庭树会见证我的生活，我的学习，我的人生，而我也会努力去见证庭树的一生！</p><blockquote><p>阿Q要努力实现甘梦梦的小目标呀 !<span class="github-emoji"><span>😄</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><p>希望能更努力,早点拥有自己的小房子，<br>清晨起床迎着咖啡和面包的香气，<br>闲暇时找三五好友吃火锅喝汽，<br>傍晚和喜欢的人陷在沙发里看剧吃零食，<br>入眠时等满天星光吹着晚风落地。</p></blockquote><p>前路仍有明月共爱河，祝大家星光璀璨，佳人相伴！</p>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 想法 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
